<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>《C++ Primer》学习笔记（五）：循环、分支、跳转和异常处理语句</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1><a id="Chttpsblogcsdnnettefuirneverarticlecategory9342309_0"></a><a href="https://blog.csdn.net/tefuirnever/article/category/9342309">专栏C++学习笔记</a></h1>
<p>《C++ Primer》学习笔记/习题答案 总目录</p>
<ul>
<li><a href="https://blog.csdn.net/TeFuirnever/article/details/100700212">https://blog.csdn.net/TeFuirnever/article/details/100700212</a></li>
</ul>
<p>——————————————————————————————————————————————————————</p>
<ul>
<li>《C++ Primer》习题参考答案：第5章 - 循环、分支、跳转和异常处理语句</li>
</ul>
<p></p><div class="toc"><h3>文章目录</h3><ul><li><a href="#Chttpsblogcsdnnettefuirneverarticlecategory9342309_0">专栏C++学习笔记</a></li><li><a href="#_11">循环、分支和跳转语句</a></li><ul><li><a href="#1_13">1、简单语句</a></li><li><a href="#2_58">2、语句作用域</a></li><li><a href="#3_81">3、条件语句</a></li><ul><ul><li><a href="#1if_83">1）if语句</a></li><li><a href="#2switch_201">2）switch语句</a></li></ul></ul><li><a href="#4_269">4、迭代语句</a></li><ul><ul><li><a href="#1while_273">1）while语句</a></li><li><a href="#2for_300">2）传统的for语句</a></li><li><a href="#3for_331">3）范围for语句</a></li><li><a href="#4dowhile_356">4）do-while语句</a></li></ul></ul><li><a href="#5_387">5、跳转语句</a></li><ul><ul><li><a href="#1break_391">1）break语句</a></li><li><a href="#2continue_416">2）continue语句</a></li><li><a href="#3goto_434">3）goto语句</a></li></ul></ul><li><a href="#6try_463">6、try语句块和异常处理</a></li><ul><ul><li><a href="#1throw_473">1）throw表达式</a></li><li><a href="#2try_485">2）try语句块</a></li><li><a href="#3_522">3）标准异常</a></li></ul></ul><li><a href="#_541">参考文章</a></li></ul></ul></div><p></p>
<h1><a id="_11"></a>循环、分支和跳转语句</h1>
<h2><a id="1_13"></a>1、简单语句</h2>
<p>通常情况下，语句是顺序执行的，但除非是最简单的程序，否则仅有顺序执行远远不够。因此， C++语言提供了一组 <strong>控制流（flow-of-control）</strong> 语旬以支持更复杂的执行路径。</p>
<p>C++语言中的大多数语句都以分号结束，一个表达式加上 <code>;</code> 就变成了 <strong>表达式语句（expression statement）</strong>。如果在程序的某个地方，语法上需要一条语句但是逻辑上不需要，则应该使用 <strong>空语句（null statement）</strong>，空语句中只含有一个单独的分号 <code>;</code>。</p>
<pre><code class="prism language-c">ival <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span> 		<span class="token comment">// 一条没什么实际用处的表达式语句</span>
cout <span class="token operator">&lt;&lt;</span> ival<span class="token punctuation">;</span> 	<span class="token comment">// 一条有用的表达式语句</span>
<span class="token comment">// 重复读入数据直至到达文件末尾或某次输入的值等于sought</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> s <span class="token operator">&amp;&amp;</span> s <span class="token operator">!=</span> sought<span class="token punctuation">)</span>
    <span class="token punctuation">;</span>   		<span class="token comment">// 空语句</span>
</code></pre>
<p>使用空语句时应该加上注释，从而令读这段代码的人知道该语句是有意省略的。</p>
<p>不要漏写分号 <code>;</code>！！！不要漏写分号 <code>;</code>！！！不要漏写分号 <code>;</code>！！！重要的事情说三遍，另外，也不要多写分号，即空语句，多余的空语句并非总是无害的。</p>
<pre><code class="prism language-c">ival <span class="token operator">=</span> vl <span class="token operator">+</span> v2<span class="token punctuation">;</span><span class="token punctuation">;</span>	 			<span class="token comment">// 正确: 第二个分号表示一条多余的空语句</span>
<span class="token comment">// 出现了糟糕的情况：额外的分号，循环体是那条空语句</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>iter <span class="token operator">!=</span> svec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token comment">// while循环体是那条空语句</span>
    <span class="token operator">++</span>iter<span class="token punctuation">;</span>     				<span class="token comment">// 递增运算不属于循环的一部分</span>
</code></pre>
<p><strong>复合语句（compound statement）</strong> 是指用花括号括起来的（可能为空）语句和声明的序列，也叫做<strong>块（block）</strong>，<em>一个块就是一个作用域</em>，在块中引入的名字只能在块内部以及嵌套在块中的子块里访问。通常，名字在有限的区域内可见，该区域从名字定义处开始，到名字所在（最内层）块的结尾处为止。</p>
<p>如果在程序的某个地方，语法上需要一条语句，但是逻辑上需要多条语句，则应该使用复合语句。把要执行的语句用花括号括起来， 就将其转换成了一条(复合〉语句。</p>
<pre><code class="prism language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	sum <span class="token operator">+</span><span class="token operator">=</span> val<span class="token punctuation">;</span>		<span class="token comment">// 把sum+val的值赋给sum</span>
	<span class="token operator">++</span>val<span class="token punctuation">;</span>			<span class="token comment">// 给val加1</span>
<span class="token punctuation">}</span>
</code></pre>
<p>语句块不以分号作为结束。</p>
<p>所谓空块， 是指内部没有任何语句的一对花括号。空块的作用等价于空语句：</p>
<pre><code class="prism language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> s <span class="token operator">&amp;&amp;</span> s <span class="token operator">!=</span> sought<span class="token punctuation">)</span>
	<span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token comment">// 空块</span>
</code></pre>
<h2><a id="2_58"></a>2、语句作用域</h2>
<p>可以在 <code>if</code>、<code>switch</code>、<code>while</code> 和 <code>for</code> 语句的控制结构内定义变量，这些变量只在相应语句的内部可见，一旦语句结束，变量也就超出了其作用范围。</p>
<pre><code class="prism language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">get_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// 每次迭代时创建并初始化i</span>
    cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  					<span class="token comment">// 错误:在循环外部无法访问i</span>
</code></pre>
<p>如果其他代码也需要访问控制变量，则变量必须定义在语句的外部：</p>
<pre><code class="prism language-cpp"><span class="token comment">// 寻找第一个负位元素</span>
<span class="token keyword">auto</span> beg <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>beg <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>beg <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token operator">++</span>beg<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>beg <span class="token operator">==</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// 此时我们知道v中的所有元素都大于等于0</span>
</code></pre>
<p>因为控制结构定义的对象的值马上要由结构本身使用，所以这些变量必须初始化。</p>
<h2><a id="3_81"></a>3、条件语句</h2>
<h4><a id="1if_83"></a>1）if语句</h4>
<p><code>if</code> 语句的形式：</p>
<pre><code class="prism language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
    statement
</code></pre>
<p><code>if-else</code> 语句的形式：</p>
<pre><code class="prism language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
    statement
<span class="token keyword">else</span>
    statement2
</code></pre>
<p>其中 <em>condition</em> 是判断条件，可以是一个表达式或者初始化了的变量声明，<em>condition</em> 必须用圆括号括起来。</p>
<ul>
<li>如果 <em>condition</em> 为真，则执行 <em>statement</em>。执行完成后，程序继续执行 <code>if</code> 语句后面的其他语句。</li>
<li>如果 <em>condition</em> 为假，则跳过 <em>statement</em>。对于简单 <code>if</code> 语句来说，程序直接执行 <code>if</code> 语句后面的其他语句；对于 <code>if-else</code> 语句来说，程序先执行 <em>statement2</em>，再执行 <code>if</code> 语句后面的其他语句。</li>
</ul>
<p><code>if</code> 语句可以嵌套，其中 <code>else</code> 与离它最近的尚未匹配的 <code>if</code> 相匹配。</p>
<p>记得用花括号 <code>{}</code>，否则很容易出现一个错误，就是本来程序中有几条语句应该作为一个块来执行，最后没有。。。这一点要和 python 区别开，因为 python 是以缩进分块的。为了避免此类问题，强烈建议在 <code>if</code> 或 <code>else</code> 之后必须写上花括号（对 <code>while</code> 和 <code>for</code> 语句的循环体两端也有同样的要求），这么做的好处是可以避免代码混乱不惰，以后修改代码时如果想添加别的语旬，也可以很容易地找到正确位置。</p>
<p>当代码中 <code>if</code> 分支多下 <code>else</code> 分支时，C++规定 <code>else</code> 与离它最近的尚未匹配的 <code>if</code> 匹配，从而消除了程序的二义性。</p>
<pre><code class="prism language-cpp"><span class="token comment">// 错误：实际的执行过程并非像缩进格式显示的那样，else分支匹配的是内层if语句</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span><span class="token number">10</span> <span class="token operator">&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span>
		lettergrade <span class="token operator">+</span><span class="token operator">=</span><span class="token string">'+'</span><span class="token punctuation">;</span> 		<span class="token comment">// 末尾是8或者9的成绩添加一个加号</span>
<span class="token keyword">else</span>
	lettergrade <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'-'</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于 &lt;=&gt;</span>
<span class="token comment">// 违背了初衷</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span><span class="token number">10</span> <span class="token operator">&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span>
		lettergrade <span class="token operator">+</span><span class="token operator">=</span><span class="token string">'+'</span><span class="token punctuation">;</span> 		<span class="token comment">// 末尾是8或者9的成绩添加一个加号</span>
	<span class="token keyword">else</span>
		lettergrade <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'-'</span><span class="token punctuation">;</span>		<span class="token comment">// 末尾是3、4、5、6或者7的成绩添加一个减号!</span>
</code></pre>
<p>要想 <code>else</code> 分支和外层的 <code>if</code> 语句匹配起来，可以在内层 <code>if</code> 语句的两端加上花括号， 使其成为一个块：</p>
<pre><code class="prism language-cpp"><span class="token comment">// 错误：实际的执行过程并非像缩进格式显示的那样，else分支匹配的是内层if语句</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span><span class="token number">10</span> <span class="token operator">&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span>
		lettergrade <span class="token operator">+</span><span class="token operator">=</span><span class="token string">'+'</span><span class="token punctuation">;</span> 		<span class="token comment">// 末尾是8或者9的成绩添加一个加号</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span>
	lettergrade <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'-'</span><span class="token punctuation">;</span> 		<span class="token comment">// 末尾是1或者2的成绩添加一个减号!</span>
</code></pre>
<p>最初的想法是如果 <code>&gt;=3</code>，则进入嵌套判断——如果 <code>&gt;7</code>，那么输出一个带 <code>+</code> 的结果；如果 <code>&lt;3</code>，则输出一个带 <code>-</code> 的结果。写成一个分段函数的话就是：</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="right center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>−</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi mathvariant="normal">%</mi><mn>10</mn><mo>&lt;</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>&gt;</mo><mo>=</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi mathvariant="normal">%</mi><mn>10</mn><mo>&gt;</mo><mo>=</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi mathvariant="normal">%</mi><mn>10</mn><mo>&gt;</mo><mn>7</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> out=\left\{
\begin{array}{rcl}
x- &amp; &amp; {(grade \% 10 &lt; 3)}\\
x &amp; &amp; {(7 &gt;= grade \% 10 &gt;= 3)}\\
x+ &amp; &amp; {(grade \% 10 &gt; 7)}
\end{array} \right. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.61508em; vertical-align: 0em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.60004em; vertical-align: -1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.49999em;"><span class="pstrut" style="height: 3.15em;"></span><span class="delimsizinginner delim-size4"><span class="">⎩</span></span></span><span class="" style="top: -3.15001em;"><span class="pstrut" style="height: 3.15em;"></span><span class="delimsizinginner delim-size4"><span class="">⎨</span></span></span><span class="" style="top: -4.30002em;"><span class="pstrut" style="height: 3.15em;"></span><span class="delimsizinginner delim-size4"><span class="">⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mord">−</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mord">+</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.05em;"><span class="pstrut" style="height: 2.84em;"></span><span class="mord"></span></span><span class="" style="top: -2.85em;"><span class="pstrut" style="height: 2.84em;"></span><span class="mord"></span></span><span class="" style="top: -1.65em;"><span class="pstrut" style="height: 2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord">%</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mopen">(</span><span class="mord">7</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord">%</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord">%</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">7</span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p>
<p>写错之后就变成了：</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="right center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>−</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>&gt;</mo><mo>=</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi mathvariant="normal">%</mi><mn>10</mn><mo>&gt;</mo><mo>=</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi mathvariant="normal">%</mi><mn>10</mn><mo>&gt;</mo><mn>7</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> out=\left\{
\begin{array}{rcl}
x- &amp; &amp; {(7 &gt;= grade \% 10 &gt;= 3)}\\
x+ &amp; &amp; {(grade \% 10 &gt; 7)}
\end{array} \right. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.61508em; vertical-align: 0em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.40003em; vertical-align: -0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top: 0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.45em;"><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mord">−</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mord">+</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.95em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.45em;"><span class="" style="top: -3.45em;"><span class="pstrut" style="height: 2.84em;"></span><span class="mord"></span></span><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.95em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.45em;"><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mopen">(</span><span class="mord">7</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord">%</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord">%</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">7</span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.95em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p>
<p>测试用例：</p>
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> grade <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	string lettergrade<span class="token punctuation">;</span>

	cin <span class="token operator">&gt;&gt;</span> grade<span class="token punctuation">;</span>
	lettergrade <span class="token operator">=</span>  <span class="token function">to_string</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// error program:</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>grade <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span>
			lettergrade <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'+'</span><span class="token punctuation">;</span> 	<span class="token comment">// 末尾是8或者9的成绩添加一个加号</span>
	<span class="token keyword">else</span>
		lettergrade <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'-'</span><span class="token punctuation">;</span> 		<span class="token comment">// 末尾是3、4、5、6或者7的成绩添加一个减号!</span>
<span class="token comment">// input:22, out:22</span>

<span class="token comment">// right program:</span>
	<span class="token comment">//if (grade % 10 &gt;= 3) {</span>
	<span class="token comment">//	if (grade % 10 &gt; 7)</span>
	<span class="token comment">//		lettergrade += '+'; 		// 末尾是8或者9的成绩添加一个加号</span>
	<span class="token comment">//}</span>
	<span class="token comment">//else</span>
	<span class="token comment">//	lettergrade += '-'; 		// 末尾是1或者2的成绩添加一个减号!</span>
<span class="token comment">// input:22, out:22-</span>

	cout <span class="token operator">&lt;&lt;</span> lettergrade <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>如上面的程序，可以使用 22 进行测试：</p>
<ul>
<li>如果不是最初的想法的话，输出结果应该是22。<br>
<img src="https://img-blog.csdnimg.cn/20191118112000658.png" alt="在这里插入图片描述"></li>
<li>如果是最初的想法的话，输出结果应该是22-；<br>
<img src="https://img-blog.csdnimg.cn/20191118111851544.png" alt="在这里插入图片描述"></li>
</ul>
<h4><a id="2switch_201"></a>2）switch语句</h4>
<p><code>switch</code> 语句的形式：<br>
<img src="https://img-blog.csdnimg.cn/20191118103244502.png#pic_center" alt="在这里插入图片描述"><br>
举一个例子，输入文本，统计五个元音字母在文本中出现的次数，程序如下：</p>
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">// 为每个元音字母初始化其计数值</span>
	<span class="token keyword">unsigned</span> aCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> eCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> iCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> uCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> ch<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> ch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 如果ch是元音字母，将其对应的计数位加1</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
				<span class="token operator">++</span>aCnt<span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'e'</span><span class="token operator">:</span>
				<span class="token operator">++</span>eCnt<span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'i'</span><span class="token operator">:</span>
				<span class="token operator">++</span>iCnt<span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'0'</span><span class="token operator">:</span>
				<span class="token operator">++</span>oCnt<span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'u'</span><span class="token operator">:</span>
				<span class="token operator">++</span>uCnt<span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 输出结果</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Number of vowel a : \t"</span> <span class="token operator">&lt;&lt;</span> aCnt <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span>
		<span class="token operator">&lt;&lt;</span> <span class="token string">"Number of vowel e : \t"</span> <span class="token operator">&lt;&lt;</span> eCnt <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span>
		<span class="token operator">&lt;&lt;</span> <span class="token string">"Number of vowel i : \t"</span> <span class="token operator">&lt;&lt;</span> iCnt <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span>
		<span class="token operator">&lt;&lt;</span> <span class="token string">"Number of vowel 0 : \t"</span> <span class="token operator">&lt;&lt;</span> oCnt <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span>
		<span class="token operator">&lt;&lt;</span> <span class="token string">"Number of vowel u : \t"</span> <span class="token operator">&lt;&lt;</span> uCnt <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2019111811280683.png" alt="在这里插入图片描述"><br>
<code>switch</code> 语句先对括号里的表达式求值，值转换成整数类型后再与每个 <code>case</code> 标签（case label）的值进行比较（<code>case</code> 标签必须是整型常量表达式）。如果表达式的值和某个 <code>case</code> 标签匹配，程序从该标签之后的第一条语句开始执行，直到到达 <code>switch</code> 的结尾或者遇到 <code>break</code> 语句为止。</p>
<p>通常情况下每个 <code>case</code> 分支后都有 <code>break</code> 语句，如果确实不应该出现 <code>break</code> 语句，最好写一段注释说明程序的逻辑。尽管 <code>switch</code> 语句没有强制一定要在最后一个 <code>case</code> 标签后写上 <code>break</code>，但为了安全起见，最好添加 <code>break</code>，这样即使以后增加了新的 <code>case</code> 分支，也不用再在前面补充 <code>break</code> 语句了。</p>
<p>另外，<code>switch</code> 语句中可以添加一个 <code>default</code> 标签（default label），如果没有任何一个 <code>case</code> 标签能匹配上 <code>switch</code> 表达式的值，程序将执行 <code>default</code> 标签后的语句。即使不准备在 <code>default</code> 标签下做任何操作，程序中也应该定义一个 <code>default</code> 标签，其目的在于告诉他人我们已经考虑到了默认情况，只是目前不需要实际操作。</p>
<p>不允许跨过变量的初始化语句直接跳转到该变量作用域内的另一个位置。如果需要为 <code>switch</code> 的某个 <code>case</code> 分支定义并初始化一个变量，则应该把变量定义在块内。</p>
<pre><code class="prism language-c"><span class="token keyword">case</span> true<span class="token punctuation">:</span>
	<span class="token punctuation">{</span>
	    <span class="token comment">// 正确：声明语句位于语句块内部</span>
	    string file_name <span class="token operator">=</span> <span class="token function">get_file_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token comment">// ...</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">break</span><span class="token punctuation">;</span>
	
<span class="token keyword">case</span> false<span class="token punctuation">:</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>file_name<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 错误：file_name不在作用域之内</span>
</code></pre>
<h2><a id="4_269"></a>4、迭代语句</h2>
<p>迭代语句通常称为循环，它重复执行操作直到满足某个条件才停止。<code>while</code> 和 <code>for</code> 语句在执行循环体之前检查条件，<code>do-while</code> 语句先执行循环体再检查条件。</p>
<h4><a id="1while_273"></a>1）while语句</h4>
<p><code>while</code> 语句的形式：</p>
<pre><code class="prism language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
    statement
</code></pre>
<p>只要 <em>condition</em> 的求值结果为 <code>true</code>，就一直执行 <em>statement</em>（通常是一个块）。<em>condition</em> 不能为空，如果 <em>condition</em> 第一次求值就是 <code>false</code>，<em>statement</em> 一次都不会执行。</p>
<p>定义在 <code>while</code> 条件部分或者 <code>while</code> 循环体内的变量，每次迭代都经历从创建到销毁的过程。在不确定迭代次数，或者想在循环结束后访问循环控制变量时，使用 <code>while</code> 比较合适。</p>
<pre><code class="prism language-cpp">vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token operator">:</span>
<span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token comment">// 重复读入数据，直至到达文件末尾或者遇到其他输入问题</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> i<span class="token punctuation">)</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 寻找第一个负值元素</span>
<span class="token keyword">auto</span> beg <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>beg <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>beg <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token operator">++</span>beg<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>beg <span class="token operator">==</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// 此时我们知道v中的所有元素都大于等于0</span>
</code></pre>
<h4><a id="2for_300"></a>2）传统的for语句</h4>
<p><code>for</code> 语句的形式：</p>
<pre><code class="prism language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span>initializer<span class="token punctuation">;</span> condition<span class="token punctuation">;</span> expression<span class="token punctuation">)</span>
    statement
</code></pre>
<p>一般情况下，<em>initializer</em> 负责初始化一个值，这个值会随着循环的进行而改变。<em>condition</em> 作为循环控制的条件，只要 <em>condition</em> 的求值结果为 <code>true</code>，就执行一次 <em>statement</em>，执行后再由 <em>expression</em> 负责修改 <em>initializer</em> 初始化的变量，修改发生在每次循环迭代之后，这个变量就是 <em>condition</em> 检查的对象。如果 <em>condition</em> 第一次求值就是 <code>false</code>，<em>statement</em> 一次都不会执行。<em>statement</em> 可以是一条单独的语句也可以是一条复合语句。</p>
<p><em>initializer</em> 中也可以定义多个对象，但是只能有一条声明语句，因此所有变量的基础类型必须相同。</p>
<p><strong>注意</strong>：<code>for</code> 语句头中定义的对象只在 <code>for</code> 循环体内可见。</p>
<p><code>for</code> 语句头能省略掉 <em>initializer</em> 、<em>condition</em> 和 <em>expression</em> 中的任何一个(或者全部)。</p>
<pre><code class="prism language-cpp"><span class="token keyword">auto</span> beg <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token comment">/* 空语句 */</span><span class="token punctuation">;</span> beg <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>beg <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">++</span>beg<span class="token punctuation">)</span>
	<span class="token punctuation">;</span> <span class="token comment">//什么也不做</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">/* 条件为空 */</span> <span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//对i进行处理，循环内部的代码必须负责终止迭代过程</span>
<span class="token punctuation">}</span>

vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">;</span> cin <span class="token operator">&gt;&gt;</span> i<span class="token punctuation">;</span> <span class="token comment">/* 表达式为空 */</span><span class="token punctuation">)</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="3for_331"></a>3）范围for语句</h4>
<p>范围 <code>for</code> 语句的形式：</p>
<pre><code class="prism language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span>declaration <span class="token punctuation">:</span> expression<span class="token punctuation">)</span>
    statement
</code></pre>
<p>其中 <em>expression</em> 表示一个序列，拥有能返回迭代器的 <code>begin</code> 和 <code>end</code> 成员，比如用花括号括起来的初始值列表、数组或者者 <code>vector</code> 或 <code>string</code> 等类型的对象。<em>declaration</em> 定义一个变量，序列中的每个元素都应该能转换成该变量的类型（可以使用 <code>auto</code>）。如果需要对序列中的元素执行写操作，循环变量必须声明成引用类型，每次迭代都会重新定义循环控制变量，并将其初始化为序列中的下一个值，之后才会执行 <em>statement</em>。</p>
<pre><code class="prism language-cpp">vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v <span class="token operator">=</span> <span class="token punctuation">{</span>O<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 范围变量必须是引用类型，这样才能对元素执行写操作</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>r <span class="token operator">:</span> v<span class="token punctuation">)</span> 		<span class="token comment">// 对于v中的每一个元素</span>
	r <span class="token operator">*</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> 			<span class="token comment">// 将v中每个元素的值翻倍</span>

<span class="token comment">// 等价于&lt;=&gt;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> beg <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> beg <span class="token operator">!=</span> end<span class="token punctuation">;</span> <span class="token operator">++</span>beg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">auto</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> <span class="token operator">*</span>beg<span class="token punctuation">;</span> 	<span class="token comment">// r必须是引用类型，这样才能对元素执行写操作</span>
	r <span class="token operator">*</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> 			<span class="token comment">// 将v中每个元素的值翻倍</span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a id="4dowhile_356"></a>4）do-while语句</h4>
<p><code>do-while</code> 语句的形式：</p>
<pre><code class="prism language-c"><span class="token keyword">do</span>
    statement
<span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p><code>do while</code> 语句应该在括号包围起来的条件后面用一个分号表示语句结束。</p>
</blockquote>
<p>计算 <em>condition</em> 的值之前会先执行一次 <em>statement</em>，<em>condition</em> 不能为空。如果 <em>condition</em> 的值为 <code>false</code>，循环终止；否则重复执行 <em>statement</em>。</p>
<p><code>condition</code> 使用的变量必须定义在循环体之外，因为 <code>do-while</code> 语句先执行语句或块，再判断条件，所以不允许在条件部分定义变量。</p>
<pre><code class="prism language-cpp"><span class="token comment">//不断提示用户输入一对数.然后求其和</span>
string rsp<span class="token punctuation">;</span> <span class="token comment">//作为循环的条件，不能定义在do的内部</span>
<span class="token keyword">do</span> <span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">" please enter two values: "</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> val1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> val2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> val1 <span class="token operator">&gt;&gt;</span> val2<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The sum of "</span> <span class="token operator">&lt;&lt;</span> val1 <span class="token operator">&lt;&lt;</span> <span class="token string">" and "</span> <span class="token operator">&lt;&lt;</span> val2
		<span class="token operator">&lt;&lt;</span> <span class="token string">" = "</span> <span class="token operator">&lt;&lt;</span> val1 <span class="token operator">+</span> val2 <span class="token operator">&lt;&lt;</span> <span class="token string">"\n\n"</span>
		<span class="token operator">&lt;&lt;</span> <span class="token string">"More? Enter yes or no: "</span><span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> rsp<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>rsp<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> rsp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20191118160518401.png" alt="在这里插入图片描述"></p>
<h2><a id="5_387"></a>5、跳转语句</h2>
<p>跳转语句中断当前的执行过程。</p>
<h4><a id="1break_391"></a>1）break语句</h4>
<p><code>break</code> 语句只能出现在迭代语句或者 <code>switch</code> 语句的内部(包括嵌套在此类循环里的语句或块的内部)，负责终止离它最近的 <code>while</code>、<code>do-while</code>、<code>for</code> 或者 <code>switch</code> 语句，并从这些语句之后的第一条语句开始执行。<code>break</code> 语句的作用范围仅限于最近的循环或者 <code>switch</code>。</p>
<pre><code class="prism language-c">string buf<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> buf <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>buf<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'-'</span><span class="token punctuation">:</span>
            <span class="token comment">// 处理到第一个空白为止</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> it <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> buf<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>it <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span>
                	<span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token comment">// #1，离开for循环</span>
                <span class="token comment">// . . .</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 离开for循环：break #1将控制权转移到这里</span>
            <span class="token comment">// 剩余的'-'处理:</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token comment">// #2，结束switch</span>
        <span class="token keyword">case</span> <span class="token string">'+'</span><span class="token punctuation">:</span>
    		<span class="token comment">// . . .</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 结束switch: break #2将控制权转移到这里</span>
<span class="token punctuation">}</span> <span class="token comment">// 结束while</span>
</code></pre>
<h4><a id="2continue_416"></a>2）continue语句</h4>
<p><code>continue</code> 语句只能出现在迭代语句的内部，负责终止离它最近的循环的当前一次迭代并立即开始下一次迭代。<code>continue</code> 语句只能出现在 <code>for</code>、<code>while</code> 和 <code>do while</code> 循环的内部，或者嵌套在此类循环里的语句或块的内部。和 <code>break</code> 语句不同的是，只有当 <code>switch</code> 语句嵌套在迭代语句内部时，才能在 <code>switch</code> 中使用 <code>continue</code>。</p>
<p><code>continue</code> 语句中断当前迭代后，具体操作视迭代语句类型而定：</p>
<ul>
<li>对于 <code>while</code> 和 <code>do-while</code> 语句来说，继续判断条件的值。</li>
<li>对于传统的 <code>for</code> 语句来说，继续执行 <code>for</code> 语句头中的第三部分，之后判断条件的值。</li>
<li>对于范围 <code>for</code> 语句来说，是用序列中的下一个元素初始化循环变量。</li>
</ul>
<pre><code class="prism language-cpp">string buf <span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> buf <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>buf<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>buf<span class="token punctuation">[</span>O<span class="token punctuation">]</span> <span class="token operator">!=</span><span class="token string">'_'</span><span class="token punctuation">)</span>
		<span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">// 接着读取下一个输入</span>
	<span class="token comment">// 程序执行过程到了这里?说明当前的输入是以下画线开始的;接着处理buf......</span>
</code></pre>
<h4><a id="3goto_434"></a>3）goto语句</h4>
<p><code>goto</code> 语句（labeled statement）是一种特殊的语句，它的作用是从 <code>goto</code> 语句无条件跳转到同一函数内的另一条语句，在它之前有一个标识符和一个冒号。</p>
<blockquote>
<p>如果能不使用 <code>goto</code> 语句，强烈建议就不要使用了，因为它乱跳的缘故，使得程序既难理解又难修改。</p>
</blockquote>
<p><code>goto</code> 语句的形式：</p>
<pre><code class="prism language-c"><span class="token keyword">goto</span> label<span class="token punctuation">;</span>    
</code></pre>
<p><code>goto</code> 语句使程序无条件跳转到标签为 <em>label</em> 的语句处执行。</p>
<pre><code class="prism language-c">end<span class="token punctuation">:</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// 带标签语句，可以作为goto的目标</span>
</code></pre>
<p>标签标识符独立于变量和其他标识符的名字，它们之间不会相互干扰。但两者必须位于同一个函数内，同时 <code>goto</code> 语句也不能将程序的控制权从变量的作用域之外转移到作用域之内。</p>
<pre><code class="prism language-cpp">	<span class="token comment">// ...</span>
	<span class="token keyword">goto</span> end<span class="token punctuation">;</span>
	<span class="token keyword">int</span> ix <span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 错误：goto语句绕过了一个带初始化的变量定义</span>
end<span class="token operator">:</span>
	<span class="token comment">// 错误:此处的代码需妥使用ix，但是goto语句绕过了它的声明</span>
	ix <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
</code></pre>
<h2><a id="6try_463"></a>6、try语句块和异常处理</h2>
<p><strong>异常（exception）</strong> 是指程序运行时的反常行为，这些行为超出了函数正常功能的范围。当程序的某一部分检测到一个它无法处理的问题时，需要使用 <strong>异常处理（exception handling）</strong>。</p>
<p>异常处理机制为程序中 <strong>异常检测</strong> 和 <strong>异常处理</strong> 这两部分的协作提供支持，包括 <code>throw</code> 表达式（throw expression）、<code>try</code> 语句块（try block）和异常类（exception class）。</p>
<ul>
<li>异常检测部分使用 <code>throw</code> 表达式表示它遇到了无法处理的问题（<code>throw</code> 引发了异常）。</li>
<li>异常处理部分使用 <code>try</code> 语句块处理异常。<code>try</code> 语句块以关键字 <code>try</code>开 始，并以一个或多个 <code>catch</code> 子句（catch clause）结束。<code>try</code> 语句块中代码抛出的异常通常会被某个 <code>catch</code> 子句处理，<code>catch</code> 子句也被称作异常处理代码（exception handler）。</li>
<li>异常类用于在 <code>throw</code> 表达式和相关的 <code>catch</code> 子句之间传递异常的具体信息。</li>
</ul>
<h4><a id="1throw_473"></a>1）throw表达式</h4>
<p><code>throw</code> 表达式包含关键字 <code>throw</code> 和紧随其后的一个表达式，其中表达式的类型就是抛出的异常类型。<code>throw</code> 表达式后面通常紧跟一个分号，从而构成一条表达式语句。</p>
<pre><code class="prism language-cpp"><span class="token comment">// 首先检查两条数据是否是关于同一种书籍的</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>item1<span class="token punctuation">.</span><span class="token function">isbn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> item2<span class="token punctuation">.</span><span class="token function">isbn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">throw</span> <span class="token function">runtime_error</span><span class="token punctuation">(</span><span class="token string">"Data must refer to same ISBN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 如果程序执行到了这里，表示两个ISBN</span>
cout <span class="token operator">&lt;&lt;</span> item1 <span class="token operator">+</span> item2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre>
<h4><a id="2try_485"></a>2）try语句块</h4>
<p><code>try</code> 语句块的通用形式：</p>
<pre><code class="prism language-c">try <span class="token punctuation">{</span>
    program<span class="token operator">-</span>statements
<span class="token punctuation">}</span> 
catch <span class="token punctuation">(</span>exception<span class="token operator">-</span>declaration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    handler<span class="token operator">-</span>statements
<span class="token punctuation">}</span> 
catch <span class="token punctuation">(</span>exception<span class="token operator">-</span>declaration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    handler<span class="token operator">-</span>statements
<span class="token punctuation">}</span> <span class="token comment">// . . .</span>
</code></pre>
<p><code>try</code> 语句块中的 <em>program-statements</em> 组成程序的正常逻辑，其内部声明的变量在块外无法访问，即使在 <code>catch</code> 子句中也不行。语句块之后是 <code>catch</code> 子句，<code>catch</code> 子句包含：关键字 <code>catch</code>、括号内一个对象的声明（异常声明，exception declaration）和一个块。当选中了某个 <code>catch</code> 子句处理异常后，执行与之对应的块。<code>catch</code> 一旦完成，程序会跳过剩余的所有 <code>catch</code> 子句，继续执行后面的语句。</p>
<pre><code class="prism language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> item1 <span class="token operator">&gt;&gt;</span> item2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token comment">// 执行添加两个Sales_item对象的代码</span>
		<span class="token comment">// 如果添加失败，代码抛出一个runtime_error异常</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>runtime_error err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 提醒用户两个ISBN必须一致，询问是否重新输入</span>
		cout <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token operator">&lt;&lt;</span> <span class="token string">"\nTry Again? Enter y or n"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword">char</span> c<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cin <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'n'</span><span class="token punctuation">)</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 跳出while循环</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20191118164622690.png" alt="在这里插入图片描述"><br>
寻找处理代码的过程与函数调用链刚好相反。当异常被抛出时， 首先搜索抛出该异常的函数。如果没找到匹配的 <code>catch</code> 子句， 终止该函数， 并在调用该函数的函数中继续寻找。如果还是没有找到匹配的 <code>catch</code> 子句，这个新的函数也被终止， 继续搜索调用它的函数。以此类推，沿着程序的执行路径逐层回退，直至找到适当类型的 <code>catch</code> 子句为止。如果最终没能找到与异常相匹配的 <code>catch</code> 子句，程序会执行名为 <code>terminate</code> 的标准库函数。该函数的行为与系统有关，一般情况下，执行该函数将导致程序非正常退出。类似地，如果一段程序没有 <code>try</code> 语句块且发生了异常，系统也会调用 <code>terminate</code> 函数并终止当前程序的执行。</p>
<h4><a id="3_522"></a>3）标准异常</h4>
<p>异常类分别定义在4个头文件中：</p>
<ul>
<li>
<p>头文件 <em>exception</em> 定义了最通用的异常类 <code>exception</code>。它只报告异常的发生，不提供任何额外信息。</p>
</li>
<li>
<p>头文件 <em>stdexcept</em> 定义了几种常用的异常类。</p>
</li>
<li>
<p>头文件 <em>new</em> 定义了 <code>bad_alloc</code> 异常类。</p>
</li>
<li>
<p>头文件 <em>type_info</em> 定义了 <code>bad_cast</code> 异常类。</p>
</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20191118165003821.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly90ZWZ1aXJuZXZlci5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>
标准库异常类只定义了几种运算，包括创建或拷贝异常类型的对象，以及为异常类型的对象赋值。</p>
<p>标准库异常类的继承体系：<br>
<img src="https://img-blog.csdnimg.cn/20191118165108367.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly90ZWZ1aXJuZXZlci5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>
只能以默认初始化的方式初始化 <code>exception</code>、<code>bad_alloc</code> 和 <code>bad_cast</code> 对象，不允许为这些对象提供初始值。其他异常类的对象在初始化时必须提供一个 <code>string</code> 或一个C风格字符串，通常表示异常信息，但是不允许使用默认初始化的方式，且必须提供含有错误相关信息的初始值。</p>
<h2><a id="_541"></a>参考文章</h2>
<ul>
<li>《C++ Primer》</li>
</ul>
</div>
</body>

</html>
